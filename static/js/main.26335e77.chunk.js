(this["webpackJsonptodos-frontend"]=this["webpackJsonptodos-frontend"]||[]).push([[0],{26:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(7),r=n(19),i=n.n(r),c=(n(26),n(10)),o=n(11),l=n(13),d=n(12),h=n(20),b=n.n(h),m=n(2),j=n(0),u=function(e){var t=e.onSignout;return Object(j.jsx)(a.b,{className:"pr3 link dim underline pointer f3",style:{display:"flex",justifyContent:"flex-end"},onClick:t,to:"/",children:"Sign Out "})},g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onEmailChange=function(e){s.setState({signInEmail:e.target.value})},s.onPasswordChange=function(e){s.setState({signInPassword:e.target.value})},s.onSignin=function(e){s.state.signInPassword&&s.state.signInEmail.includes("@")?fetch("https://whispering-forest-93215.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.state.signInEmail,password:s.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){e.name?s.props.onLoadUser(e):alert(e)})).catch((function(e){return alert("Error registering.")})):alert("Please fill out form.")},s.state={signInEmail:"",signInPassword:""},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)("article",{className:"br2 shadow-5 dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw5 center",children:Object(j.jsx)("main",{className:"pa4 black-80 center",children:Object(j.jsxs)("div",{className:"measure",children:[Object(j.jsxs)("fieldset",{id:"sign_up",className:"b--transparent ph0 mh0",children:[Object(j.jsx)("legend",{className:"f4 fw6 ph0 mh0",children:"Sign In"}),Object(j.jsxs)("div",{className:"mt3",children:[Object(j.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(j.jsx)("input",{className:"pa2 input-reset bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})]}),Object(j.jsxs)("div",{className:"mv3",children:[Object(j.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{className:"b pa2 input-reset bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})]})]}),Object(j.jsx)("div",{className:"b ph3 pv2 input-reset center b--black bg-transparent grow pointer f6 dib",children:Object(j.jsx)(a.b,{to:"/",onClick:this.onSignin,children:"Sign In"})}),Object(j.jsx)("div",{className:"lh-copy mt3 center",children:Object(j.jsx)(a.b,{to:"/register",className:"f6 center link dim black db pointer",children:"Register"})})]})})})})}}]),n}(s.Component),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onNameChange=function(e){s.setState({registerName:e.target.value})},s.onEmailChange=function(e){s.setState({registerEmail:e.target.value})},s.onPasswordChange=function(e){s.setState({registerPassword:e.target.value})},s.onRegister=function(e){s.state.registerPassword&&s.state.registerName&&s.state.registerEmail.includes("@")?fetch("https://whispering-forest-93215.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.state.registerEmail,name:s.state.registerName,password:s.state.registerPassword})}).then((function(e){return e.json()})).then((function(e){e.name?s.props.onLoadUser(e):alert(e)})).catch((function(e){return alert("Error registering.")})):alert("Please fill out form.")},s.state={registerName:"",registerEmail:"",registerPassword:""},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)("article",{className:"br2 dark-gray shadow-5 b--black-10 mv4 w-100 w-50-m w-25-l mw5 center",children:Object(j.jsx)("main",{className:"pa4 black-80 center",children:Object(j.jsxs)("div",{className:"measure",children:[Object(j.jsxs)("fieldset",{id:"sign_up",className:" b--transparent ph0 mh0",children:[Object(j.jsx)("legend",{className:"f4 fw6 ph0 mh0",children:"Register"}),Object(j.jsxs)("div",{className:"mt3",children:[Object(j.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"name",children:"Name"}),Object(j.jsx)("input",{className:"b pa2 input-reset  bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",onChange:this.onNameChange})]}),Object(j.jsxs)("div",{className:"mv3",children:[Object(j.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(j.jsx)("input",{className:"pa2 input-reset  bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})]}),Object(j.jsxs)("div",{className:"mv3",children:[Object(j.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{className:"b pa2 input-reset  bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})]})]}),Object(j.jsx)("div",{className:"b ph3 pv2 input-reset center b--black bg-transparent grow pointer f6 dib",children:Object(j.jsx)(a.b,{to:"/register",onClick:this.onRegister,children:"Register"})}),Object(j.jsx)("div",{className:"lh-copy mt3 center",children:Object(j.jsx)(a.b,{to:"/",className:"f6 center link dim black db pointer",children:"Sign in"})})]})})})})}}]),n}(s.Component),f=function(e){var t=e.name,n=e.number;return Object(j.jsx)("p",{className:"center",children:"".concat(t,", you have ").concat(n," todos.")})},O=function(e){var t=e.onContentChange,n=e.onDateChange,s=e.onAddTask;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"center general-text",children:"Enter todo and deadline: (Time defaults to end of selected day)"}),Object(j.jsxs)("div",{className:"center w-100-l w-90",children:[Object(j.jsx)("input",{className:"f4 mr1",type:"text",onChange:t}),Object(j.jsx)("input",{className:"f4 ml1",type:"date",onChange:n}),Object(j.jsx)("button",{className:"w-5 ml3 grow bg-light-blue",onClick:s,children:"Add Task"})]})]})},w=function(e){var t=e.date,n=e.content,s=e.onDone,a=function(e){var t=new Date(e);t.setDate(t.getDate()+1);var n=t.toString().split(" ").slice(1,4).join(" "),s=new Date;s.setDate(s.getDate()+1);var a=new Date;return a.setDate(a.getDate()+7),t<s?["bg-red",n]:t<a?["bg-yellow",n]:["bg-green",n]};return Object(j.jsxs)("div",{className:"mv3 w-70-ns w-90 center",children:[Object(j.jsx)("p",{className:"w-50-ns w-60 ".concat(a(t)[0]," pv3 b"),children:"".concat(n," by ").concat(a(t)[1])}),Object(j.jsx)("button",{className:"w-10-ns w-30 ml3 mv3 grow bg-light-blue",onClick:function(){return s(t,n)},children:"Done \u2705"})]})},x=function(e){var t=e.choreList,n=e.onDone;return Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsx)(w,{date:e.date,content:e.task,onDone:n})}))})},v={signedin:!1,content:"",date:"",user:{name:"",email:"",todos:[]}},N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onSignout=function(){e.setState(v)},e.onLoadUser=function(t){e.setState({user:{name:t.name,email:t.email,todos:t.todos?t.todos:[]},signedin:!0})},e.onContentChange=function(t){e.setState({content:t.target.value})},e.onDateChange=function(t){e.setState({date:t.target.value})},e.updateTodoState=function(t){Array.isArray(t)?e.setState({user:{email:e.state.user.email,name:e.state.user.name,todos:t}}):alert(t)},e.onAddTask=function(){var t=new Date(e.state.date);t.setDate(t.getDate()+1),fetch("https://whispering-forest-93215.herokuapp.com/updatedb",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,task:e.state.content,date:e.state.date})}).then((function(e){return e.json()})).then((function(t){return e.updateTodoState(t)})).catch((function(e){return alert("Error adding task")}))},e.onDone=function(t,n){fetch("https://whispering-forest-93215.herokuapp.com/deletefromdb",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,task:n,date:t})}).then((function(e){return e.json()})).then((function(t){return e.updateTodoState(t)})).catch((function(e){return alert("Error deleting task")}))},e.state=v,e}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b.a,{url:"https://raw.githubusercontent.com/rcj1/todos/master/public/favicon.ico"}),Object(j.jsxs)(m.d,{children:[Object(j.jsx)(m.b,{exact:!0,path:"/",children:this.state.signedin?Object(j.jsx)(m.a,{to:"/signedin"}):Object(j.jsx)(g,{onLoadUser:this.onLoadUser})}),Object(j.jsx)(m.b,{path:"/register",children:this.state.signedin?Object(j.jsx)(m.a,{to:"/signedin"}):Object(j.jsx)(p,{onLoadUser:this.onLoadUser})}),Object(j.jsx)(m.b,{path:"/signedin",children:this.state.signedin?Object(j.jsxs)("div",{children:[Object(j.jsx)(u,{onSignout:this.onSignout}),Object(j.jsx)(f,{name:this.state.user.name,number:this.state.user.todos.length}),Object(j.jsx)(O,{onContentChange:this.onContentChange,onDateChange:this.onDateChange,onAddTask:this.onAddTask}),Object(j.jsx)(x,{choreList:this.state.user.todos,onDone:this.onDone})]}):Object(j.jsx)(m.a,{to:"/"})})]})]})}}]),n}(s.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))};n(33);i.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),C()}},[[34,1,2]]]);
//# sourceMappingURL=main.26335e77.chunk.js.map